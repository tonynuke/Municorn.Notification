Начнем с функциональных требований.

Метод для создания и одновременной отправки уведомления, который должен сохранять его в памяти или в персистентном хранилище (на Ваш выбор).

Речь идет о мобильных push уведомлениях.
Большинство облачных сервисов (например, Amazon SNS и FCM) позволяют одновременно работать с iOS и Android push уведомлениями через унифицированный интерфейс.
Поэтому сделаем унифицированное API для работы с уведомлениями.
Выделим общую часть с токеном и сообщением и специфичные платформенные настройки для iOS и Android.

Перейдем к нефункциональным требованиям и реализации.

Метод создания и отправки уведомления могут вызывать очень часто из сотни других микросервисов.
Вероятно речь про сотни микросервисов внутри закрытого контура системы.
Под этот сценарий использования больше подходит GRPC чем традиционное HTTP WEB API. Поэтому выберем GRPC.
Детали расписывать не буду, ограничусь ссылкой.
https://docs.microsoft.com/en-us/aspnet/core/grpc/comparison?view=aspnetcore-6.0#grpc-recommended-scenarios
Из ограничений GRPC и proto3 мы не сможем задавать свои значения по умолчанию.

В общем, задача выглядит как диспетчеризация уведомлений по разным каналам: мобильные пуши, почта, чат и т.п.
Для решения этой задачи воспользуемся библиотекой Mediatr. 
С помощью этой библиотеки получится просто добавлять новые типы уведмолений и связывать их с обработчиками.

Ради упрощения реализации тестового задания откажемся от:
- персистентного хранилища;
- обработки всех граничных условий;
- полного покрытия тестами. Добавлю несколько тестов на проверку инвариантов уведомлений
- четкого очерчивания модулей и слоев. Например, будем передавать контракты GRPC без дополнительных преобразований.
